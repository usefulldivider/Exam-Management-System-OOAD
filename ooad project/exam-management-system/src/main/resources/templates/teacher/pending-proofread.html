<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:replace="~{layouts/base :: pageTitle}">Exams Pending Proofread</title>
    <th:block th:insert="~{layouts/base :: commonHeadElements}"></th:block>
</head>
<body>
    <div th:insert="~{layouts/base :: navbar}"></div>

    <div class="content">
        <div class="container mt-4">
            <h2 class="mb-4">Exams Pending Proofread</h2>

            <div th:if="${#lists.isEmpty(pendingExams)}" class="alert alert-info" role="alert">
                There are currently no exams pending proofreading by you.
            </div>

            <div th:if="${not #lists.isEmpty(pendingExams)}">
                <table class="table table-striped table-hover">
                    <thead class="table-primary">
                        <tr>
                            <th>Subject</th>
                            <th>Creator</th>
                            <th>Duration (mins)</th>
                            <th>Total Questions</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="exam : ${pendingExams}">
                            <td th:text="${exam.subject}">Sample Subject</td>
                            <td th:text="${exam.creator?.name}">Creator Name</td> <!-- Safe navigation for creator -->
                            <td th:text="${exam.duration}">60</td>
                            <td th:text="${exam.totalQuestions}">10</td>
                            <td>
                                <a th:href="@{/teacher/exams/{id}/proofread(id=${exam.id})}" class="btn btn-sm btn-warning">
                                    <i class="fas fa-edit"></i> Proofread
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
              <div class="mt-3">
                 <a th:href="@{/teacher/dashboard}" class="btn btn-secondary">Back to Dashboard</a>
            </div>
        </div>
    </div>

    <div th:insert="~{layouts/base :: footer}"></div>
    <th:block th:insert="~{layouts/base :: commonScripts}"></th:block>
</body>
</html>